typeof Worker=="undefined"||typeof location!="undefined"&&location.protocol==="file:"?typeof global!="undefined"&&typeof require!="undefined"?exports.LZMA=function(c){return require(c||"./lzma_worker.js").LZMA}:typeof window!="undefined"&&window.document?function(){var c=this,i,l=function(t){var o=document.createElement("script");o.type="text/javascript",o.src=t,o.onload=function(){c.LZMA=f},document.getElementsByTagName("head")[0].appendChild(o)};typeof window!="undefined"?i=window:global&&(i=global);function f(n){var t;return l(n),t={compress:function(e,r,a,s){i.LZMA_WORKER?i.LZMA_WORKER.compress(e,r,a,s):setTimeout(function(){t.compress(e,r,a,s)},50)},decompress:function(e,r,a){i.LZMA_WORKER?i.LZMA_WORKER.decompress(e,r,a):setTimeout(function(){t.decompress(e,r,a)},50)},worker:function(){return null}},t}c.LZMA=f}():console.error("Can't load the worker. Sorry."):exports.LZMA=function(c){var i=1,l=2,f=3,n={},t=new Worker(c||"./lzma_worker.js");return t.onmessage=function(e){e.data.action===f?n[e.data.cbn]&&typeof n[e.data.cbn].on_progress=="function"&&n[e.data.cbn].on_progress(e.data.result):n[e.data.cbn]&&typeof n[e.data.cbn].on_finish=="function"&&(n[e.data.cbn].on_finish(e.data.result,e.data.error),delete n[e.data.cbn])},t.onerror=function(o){var e=new Error(o.message+" ("+o.filename+":"+o.lineno+")");for(var r in n)n[r].on_finish(null,e);console.error("Uncaught error in lzma_worker",e)},function(){function o(e,r,a,s,u){var d;do d=Math.floor(Math.random()*1e7);while(typeof n[d]!="undefined");n[d]={on_finish:s,on_progress:u},t.postMessage({action:e,cbn:d,data:r,mode:a})}return{compress:function(r,a,s,u){o(i,r,a,s,u)},decompress:function(r,a,s){o(l,r,!1,a,s)},worker:function(){return t}}}()};
//! Â© 2015 Nathan Rugg <nmrugg@gmail.com> | MIT
